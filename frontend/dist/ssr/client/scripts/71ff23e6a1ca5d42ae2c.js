!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VsVideo=t():e.VsVideo=t()}(window,(function(){return(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[275],{CXIn:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.reRendering?e._e():i("div",{staticClass:"vs-video",attrs:{"data-test":"vs-video"}},[i("div",{staticClass:"vs-video__iframe-wrapper"},[e.requiredCookiesExist?i("div",[i("youtube",{ref:"youtube",attrs:{"video-id":e.videoId,"player-vars":e.playerVars},on:{ready:e.ready,playing:e.youtubePlaying,paused:e.youtubePaused,ended:e.youtubeEnded}})],1):e._e(),e._v(" "),e.showError?i("VsWarning",{staticClass:"vs-video__warning",attrs:{theme:"light",type:!0===e.cookiesInitStatus?"cookie":"normal","data-test":"vs-video__warning"}},[e._v("\n            "+e._s(e.warningText)+"\n\n            "),e.requiredCookiesExist||!0!==e.cookiesInitStatus?e._e():i("template",{slot:"button-text"},[e._v("\n                "+e._s(e.cookieBtnText)+"\n            ")])],2):e._e(),e._v(" "),i("VsWarning",{staticClass:"vs-video__warning--no-js",attrs:{theme:"light","data-test":"vs-video__warning--no-js"}},[e._v("\n            "+e._s(e.noJsMessage)+"\n        ")])],1)])},o=[];n._withStripped=!0},"N4+l":function(e,t,i){"use strict";var n=i("zow+");t.a=n.a},QaMr:function(e,t,i){},Sz7Z:function(e,t,i){"use strict";i.r(t);var n=i("ov/m"),o=i("N4+l"),s=(i("z0Hy"),i("KHd+")),r=Object(s.a)(o.a,n.a,n.b,!1,null,null,null);r.options.__file="src/components/elements/video/Video.vue",t.default=r.exports},"ov/m":function(e,t,i){"use strict";var n=i("CXIn");i.d(t,"a",(function(){return n.a})),i.d(t,"b",(function(){return n.b}))},z0Hy:function(e,t,i){"use strict";var n=i("QaMr");i.n(n).a},"zow+":function(e,t,i){"use strict";i("rB9j"),i("UxlC");var n=i("4Ox+"),o=i.n(n),s=i("oCYn"),r=i("XnoL"),a=i("W2u7"),u=i("AWbq"),d=i("MKIr"),l=i("Yaxr"),c=d.a.youtube;s.a.use(o.a,{global:!1}),t.a={name:"VsVideo",status:"prototype",release:"0.0.1",components:{VsWarning:r.default},mixins:[u.a,l.a],props:{language:{type:String,default:"en"},videoId:{type:String,required:!0},videoTitle:{type:String,default:""},singleMinuteDescriptor:{type:String,default:"%s minute video"},pluralMinuteDescriptor:{type:String,default:"%s minute video"},noCookiesMessage:{type:String,required:!0},cookieBtnText:{type:String,required:!0},noJsMessage:{type:String,required:!0},errorMessage:{type:String,default:""}},data:function(){return{duration:{minutes:0,seconds:0,roundedMinutes:""},playerVars:{hl:this.language},requiredCookies:c,player:null,reRendering:!1,shouldAutoPlay:!1}},computed:{showError:function(){return!this.requiredCookiesExist&&!0===this.cookiesInitStatus||"error"===this.cookiesInitStatus},warningText:function(){var e="";return this.videoId&&this.jsDisabled&&(e=this.noJsMessage),"error"===this.cookiesInitStatus&&(e=this.errorMessage),this.requiredCookiesExist||!0!==this.cookiesInitStatus||(e=this.noCookiesMessage),e}},mounted:function(){this.setEventListeners()},methods:{ready:function(){this.player=this.$refs.youtube.player,this.getPlayerDetails(),this.shouldAutoPlay&&(this.shouldAutoPlay=!1,this.playVideo())},playVideo:function(){this.player&&this.player.playVideo()},pauseVideo:function(){this.player&&this.player.pauseVideo()},youtubePlaying:function(){this.analyticsEvent("play")},youtubePaused:function(){this.analyticsEvent("pause")},youtubeEnded:function(){this.analyticsEvent("ended")},analyticsEvent:function(e){var t=this,i=0,n=0;this.player.getCurrentTime().then((function(e){return i=e,t.player.getDuration()})).then((function(e){n=e})).then((function(){var o=i/n*100;t.createDataLayerObject("videoTrackingDataEvent",{title:t.videoTitle,status:e,percent:Math.round(o)})}))},getPlayerDetails:function(){var e=this;void 0!==this.player&&this.player.getDuration().then((function(t){e.formatTime(t),e.storeVideoDetails()}))},formatTime:function(e){var t=Math.floor(e/60),i=e-60*t;this.duration.minutes=t,this.duration.seconds=i;var n=this.getRoundedMinutes(t,i);this.duration.roundedMinutes=this.formatSingularOrPlural(n)},getRoundedMinutes:function(e,t){return t<30&&0!==e?e:e+1},formatSingularOrPlural:function(e){return 1===e?this.singleMinuteDescriptor.replace("%s",e):this.pluralMinuteDescriptor.replace("%s",e)},pad:function(e){return e>=10?e:"0".concat(e)},storeVideoDetails:function(){a.a.dispatch("newVideoRef",{id:this.videoId,durationMsg:this.duration.roundedMinutes,duration:60*this.duration.minutes+this.duration.seconds,fullDuration:this.duration})},setEventListeners:function(){var e=this;this.$root.$on("video-controls",(function(t,i){i===e.videoId&&("modal-opened"===t&&e.reRenderVideo(),"play"===t?e.playVideo():"pause"===t&&e.pauseVideo())}))},reRenderVideo:function(){var e=this;this.reRendering=!0,this.$nextTick((function(){e.reRendering=!1,e.$nextTick((function(){e.shouldAutoPlay=!0}))}))}}}}},[["Sz7Z",0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,19,17,18,21,20,22,23,24,25,26,28,27,29,30,31,32,33,37,39,38,40,41,42,43,44,45,287,34,35,36,47,54,58,59,63,66,69,70]]])}));